# QLA Mathematics Platform Environment Variables
# Copy this file to .env and fill in your values

# ====================
# DATABASE (Railway auto-provides these)
# ====================
DATABASE_URL=postgresql://user:password@host:5432/database_name
PGSSL=disable  # Set to 'disable' for Railway, remove for other providers requiring SSL

# ====================
# GOOGLE OAUTH (REQUIRED)
# ====================
# Get these from Google Cloud Console
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret-from-google
OAUTH_CALLBACK_URL=https://your-app.up.railway.app/auth/google/callback
# For local development, use: http://localhost:8080/auth/google/callback

# Domain restriction (only allows emails from this domain)
ALLOWED_GOOGLE_DOMAIN=qla.qfschools.qa

# ====================
# SESSION & SECURITY (REQUIRED)
# ====================
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
COOKIE_SECRET=your-32-character-minimum-random-string-here

# Environment: development or production
NODE_ENV=production

# Server port (Railway sets this automatically)
PORT=8080

# ====================
# USER ROLES (REQUIRED)
# ====================
# Comma-separated list of teacher emails
TEACHER_EMAILS=teacher1@qla.qfschools.qa,teacher2@qla.qfschools.qa,2ed944@qla.qfschools.qa,2hg662@qla.qfschools.qa

# Comma-separated list of admin emails
ADMIN_EMAILS=admin@qla.qfschools.qa,principal@qla.qfschools.qa,2ed944@qla.qfschools.qa

# ====================
# GOOGLE CLASSROOM INTEGRATION (OPTIONAL)
# ====================
# Only needed if you want Google Classroom sync features

# Service account JSON (paste entire JSON as single line, escaping quotes)
# Get this from Google Cloud Console → Service Accounts → Keys
# Format: {"type":"service_account","project_id":"...","private_key":"...","client_email":"..."}
GC_SERVICE_ACCOUNT=

# Admin email to impersonate for API calls
GC_IMPERSONATE_USER=admin@qla.qfschools.qa

# API scopes (space-separated)
GC_SCOPES=https://www.googleapis.com/auth/admin.directory.user.readonly https://www.googleapis.com/auth/classroom.rosters.readonly https://www.googleapis.com/auth/classroom.courses.readonly

# ====================
# OPTIONAL FEATURES
# ====================
# Enable detailed logging (development only)
DEBUG=false

# Maximum file upload size (for video uploads)
MAX_UPLOAD_SIZE=100mb

# Session timeout in milliseconds (7 days default)
SESSION_TIMEOUT=604800000

# ====================
# RAILWAY-SPECIFIC (AUTO-SET)
# ====================
# These are automatically set by Railway, don't override
# RAILWAY_ENVIRONMENT=production
# RAILWAY_PROJECT_ID=
# RAILWAY_SERVICE_ID=

# ====================
# EXAMPLE VALUES FOR LOCAL DEVELOPMENT
# ====================
# For local testing, use these values:
# DATABASE_URL=postgresql://postgres:password@localhost:5432/qla_math
# OAUTH_CALLBACK_URL=http://localhost:8080/auth/google/callback
# NODE_ENV=development
# ALLOWED_GOOGLE_DOMAIN=gmail.com  # Allow any Gmail for testing

# ====================
# NOTES
# ====================
# 1. Never commit the actual .env file to version control
# 2. Keep .env.example updated with new variables
# 3. Use strong, unique values for secrets
# 4. Rotate secrets regularly in production
# 5. Railway automatically injects DATABASE_URL
# 6. All times are in UTC unless specified
